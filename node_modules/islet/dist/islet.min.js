!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e.Islet=t(e.React)}(this,function(e){"use strict";var t="default"in e?e.default:e,n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};return function(a){return function(e){function u(t){n(this,u);var o=r(this,e.call(this,t));return o.state={meta:{},valueTheMetaIsBeingMaintainedFor:void 0},o}return i(u,e),u.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.value,i=t.metaWillChange,r=t.metaDidChange;this.setState(function(e){return o({},e,{meta:{},valueTheMetaIsBeingMaintainedFor:n})}),a.didReceiveValue(n,function(t){i&&i(t),e.setState(function(e){return n===e.valueTheMetaIsBeingMaintainedFor?o({},e,{meta:t}):e},function(){r&&r(t)})})},u.prototype.componentDidUpdate=function(){var e=this,t=this.props.value;t!==this.state.valueTheMetaIsBeingMaintainedFor&&(this.setState(function(e){return o({},e,{meta:{},valueTheMetaIsBeingMaintainedFor:t})}),a.didReceiveValue(t,function(n){e.setState(function(e){return t===e.valueTheMetaIsBeingMaintainedFor?o({},e,{meta:n}):e})}))},u.prototype.render=function(){return t.createElement(a,o({},this.props,{meta:this.state.meta}))},u}(e.Component)}});
